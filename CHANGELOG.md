# 更新日志

## [1.6.0] - 2026-02-13

### 新增功能
- **阿里云 ESA 支持**: 新增阿里云 ESA (Edge Security Acceleration) 监控
  - 支持阿里云 ESA 国内版 (cn) 和国际版 (international)
  - 流量统计（带宽、流量、请求数）
  - 多账户支持
  - 多区域配置
  - 当未配置阿里云 ESA 时，不显示该平台选项（与 Cloudflare/EdgeOne 一致）

### 改进
- **配置加载日志**: 后端启动时显示所有平台的账户加载情况
- **文档完善**: 更新 README 和 DEPLOYMENT 文档

## [1.5.0] - 2026-02-11

### 新增功能
- **TOP 分析板块**: EdgeOne 仪表板新增 TOP 分析独立板块
  - 2 个 TOP 表格：TOP URL、TOP Referer
  - 3 个 TOP 图表：浏览器分布、操作系统分布、设备类型分布
  - 板块位于安全分析下方

### 改进
- **许可证更新**: 从 MIT 许可证更换为 AGPL-3.0 许可证
- **文档完善**: 更新 README 和 CHANGELOG 文档

## [1.4.0] - 2026-02-10

### 新增功能
- **时间粒度选择**: EdgeOne 仪表板新增时间粒度选择器
  - 支持 5 分钟/小时/天三种时间粒度
  - 默认值为小时
  - 移除了自动选项，用户需手动选择
- **查询范围限制**: EdgeOne 数据查询限制为 31 天（腾讯云 API 限制）
  - 自定义日期选择时验证时间范围不超过 31 天
- **环比数据对比**: 所有数据卡片显示与上一周期的对比
  - 环比支持的指标：总请求数、总流量、总带宽、回源请求数、回源流量、回源带宽、速率限制拦截、ACL 拦截、管理拦截
  - 上升显示红色箭头，下降显示绿色箭头
- **环比显示优化**: 当数据无变化时（0%）不显示环比指示器

### 改进
- **图表升级**: 流量、带宽、回源分析图表均支持三曲线显示
- **图表图例**: 所有图表底部显示图例说明
- **实线样式**: 所有图表线条统一为实线，提升可读性
- **回源分析增强**: 6 个数据卡片（请求/响应流量、带宽、缓存命中率）
- **站点显示配置**: 支持白名单/黑名单模式控制站点显示
- **国际化**: 添加时间粒度、环比相关的中文和英文翻译

## [1.3.0] - 2026-02-08

### 新增功能
- **请求与性能板块**: EdgeOne 仪表板新增请求与性能分析
  - 3 个数据卡片：总请求数、平均响应耗时、平均首字节耗时
  - 请求数趋势图：蓝色面积图显示请求数变化
  - 响应耗时趋势图：紫色和绿色双曲线显示响应时间和首字节时间
- **安全分析板块**: EdgeOne 仪表板新增安全分析功能
  - 3 个数据卡片：速率限制拦截、ACL 拦截、管理拦截
  - 安全拦截趋势图：三条曲线显示各类拦截的趋势变化
  - 支持真实的 API 数据（ccRate_interceptNum, ccAcl_interceptNum, ccManage_interceptNum）

### 改进
- **安全数据获取**: 同时查询三个安全指标，正确解析和显示数据
- **国际化**: 添加请求与性能、安全分析相关的中文和英文翻译

## [1.2.0] - 2026-02-06

### 新增功能
- **回源分析区域升级**: EdgeOne 仪表板回源分析功能全面升级
  - 6 个数据卡片（2行 x 3列）：回源请求流量、回源请求数、回源请求带宽峰值、回源响应流量、回源响应带宽峰值、缓存命中率
  - 三曲线回源趋势图：总回源流量（橙色粗线+面积填充）、回源请求流量（蓝色实线）、回源响应流量（绿色实线）
  - 图表底部显示图例说明
- **流量分析图表升级**: 三条曲线显示
  - 总流量（蓝色粗线+面积填充）
  - 请求流量（绿色实线）
  - 响应流量（橙色实线）
  - 图表底部显示图例说明
- **带宽分析图表升级**: 三条曲线显示
  - 总带宽（紫色粗线+面积填充）
  - 请求带宽（绿色实线）
  - 响应带宽（橙色实线）
  - 图表底部显示图例说明

### 改进
- **图表线条样式**: 所有图表线条统一为实线，提升可读性
- **数据展示优化**: 流量和带宽图表分别显示请求和响应数据，更清晰的区分数据流向
- **国际化**: 添加流量分析、带宽分析、回源分析相关的中文和英文翻译

## [1.1.0] - 2026-02-05

### 新增功能
- **站点显示配置**: 支持通过 `edgeone.yml` 配置文件控制哪些站点显示
  - 支持白名单模式 (`enabledZones`): 只显示指定站点
  - 支持黑名单模式 (`disabledZones`): 隐藏指定站点
  - 优先级: 黑名单 > 白名单
- **回源分析区域**: EdgeOne 仪表板新增回源分析功能
  - 回源请求数统计
  - 回源流量统计
  - 回源带宽统计
  - 回源趋势图表（橙色渐变面积图）

### 修复
- **回源数据 API 修复**: 
  - 修复 `DescribeTimingL7OriginPullData` 接口返回字段 `TimingDataRecords` 的处理
  - 正确处理回源数据的入站流量字段 (`bytesIn`, `bandwidthIn`)
- **多账号站点显示**: 修复前端只处理第一个账号站点的问题，现在正确合并所有账号的站点

### 改进
- **国际化**: 添加回源分析相关的中文和英文翻译
- **用户体验**: 当没有回源数据时显示友好的提示信息

## [1.0.0] - 2026-02-04

### 初始版本
- **Cloudflare 监控**: 支持 Cloudflare 账户的流量、带宽、威胁统计
- **EdgeOne 监控**: 支持腾讯云 EdgeOne 账户的流量、带宽、地理分布统计
- **统一视图**: 支持同时查看 Cloudflare 和 EdgeOne 的汇总数据
- **多账号支持**: 支持配置多个 Cloudflare 和 EdgeOne 账号
- **响应式设计**: 支持桌面和移动设备访问
- **暗黑模式**: 支持亮色/暗色主题切换
- **多语言**: 支持中文和英文界面
